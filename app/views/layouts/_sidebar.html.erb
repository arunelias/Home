<div class="col-sm-3" id="sidebar"> <!-- use the boostrap grid -->

  <!-- colorful house block -->
  <div class="visuals hidden-xs">
    <%= image_tag "layouts/_sidebar/house.png",                      class: "house"    %>
  </div>

  <!-- progress through form -->
  <div class="status">
    <h4 class="hidden-xs"><%= t('views.layouts.sidebar.progress') %></h4>
    <!-- @TODO move this to the controller -->

    <% steps = [
                  # description
                  [ t('views.layouts.sidebar.step_1') ], 
                  [ t('views.layouts.sidebar.step_2') ], 
                  [ t('views.layouts.sidebar.step_3') ], 
                  [ t('views.layouts.sidebar.step_4') ],
                  [ t('views.layouts.sidebar.step_5') ],
                  [ t('views.layouts.sidebar.step_6') ],
                  [ t('views.layouts.sidebar.step_7') ],
                ] %>
    <ul>
      <li class="cur-step hidden-sm hidden-md hidden-lg"><strong><%= t('views.layouts.sidebar.current_step') %>:</strong></li><!-- for mobile devices -->
      <% for i in 0..steps.length - 1 %>
        <% if i == cur_step && i != (steps.length - 1) %>
            <%= content_tag :li, steps[i][0], class: "cur-step" %>
        <% elsif i == cur_step && i == (steps.length - 1) %> <!-- active last step ... so we can keep it bold/dark -->
            <%= content_tag :li, steps[i][0], class: "cur-step" %>
        <% elsif i < cur_step %> <!-- finished step -->
            <%= content_tag :li, steps[i][0] %>
        <% else %> <!-- future steps -->
            <%= content_tag :li, steps[i][0], class: "entry-future" %>
        <% end %>
      <% end %>
    </ul>
  </div>

  <!-- selected projects -->
  <% if cur_step != 0 %>
    <div class="status status-project">
      <span class="cur-step your-project hidden-sm hidden-md hidden-lg">
        <strong><%= t('views.layouts.sidebar.project') %>:</strong>
      </span><!-- for mobile devices -->
      <h4 class="hidden-xs"><%= t('views.layouts.sidebar.project') %></h4>  
      <span class="project-label addition <%= @permit.selected_addition ? 'displayed' : '' %>">
        <%= t('views.layouts.sidebar.addition') %>
      </span>
      <span class="project-label acs-struct <%= @permit.selected_acs_struct ? 'displayed' : '' %>">
        <%= t('views.layouts.sidebar.acs_struct') %>
      </span>
      <span class="project-label deck <%= @permit.selected_deck ? 'displayed' : '' %>">
        <%= t('views.layouts.sidebar.deck') %>
      </span>
      <span class="project-label pool <%= @permit.selected_pool ? 'displayed' : '' %>">
        <%= t('views.layouts.sidebar.pool') %>
      </span>
      <span class="project-label cover <%= @permit.selected_cover ? 'displayed' : '' %>">
        <%= t('views.layouts.sidebar.cover') %>
      </span>
      <span class="project-label window <%= @permit.selected_window ? 'displayed' : '' %>">
        <%= t('views.layouts.sidebar.window') %>
      </span>
      <span class="project-label door <%= @permit.selected_door ? 'displayed' : '' %>">
        <%= t('views.layouts.sidebar.door') %>
      </span>
      <span class="project-label wall <%= @permit.selected_wall ? 'displayed' : '' %>">
        <%= t('views.layouts.sidebar.wall') %>
      </span>
      <span class="project-label siding <%= @permit.selected_siding ? 'displayed' : '' %>">
        <%= t('views.layouts.sidebar.siding') %>
      </span>
      <span class="project-label floor <%= @permit.selected_floor ? 'displayed' : '' %>">
        <%= t('views.layouts.sidebar.floor') %>
      </span>              
    </div>
  <% end %>
</div>


